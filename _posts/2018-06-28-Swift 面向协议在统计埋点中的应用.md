---

layout: default
title: Swift 面向协议在统计埋点中的应用

---
Swift 面向协议在统计埋点中的应用
<!-- more -->


## Swift 面向协议在统计埋点中的应用

### 面向协议实现统计埋点

实现思路与代码架构：

1、基础协议定义事件key、上报的通用方法封装

2、针对某个模块的上报，定义某个某块的协议，协议中增加对某个属性的实现，添加默认值。

3、针对不同的业务上报定义不同的方法，方法名即为业务场景。


### 面向协议可能存在的问题

1、一个模块可能涉及多个上报业务模块，多个上报协议并存，导致默认值冲突

2、上报一般会携带多个临时存储的对象或者持久化的值，需要用变量存储，面向协议在值存储上不简洁

3、上报场景与OC交互时，无法使用面向协议

### 面向协议相对于面向对象的优劣

1、面向协议可以简化方法，不同模块的默认值从方法中去掉

2、面向协议存在的问题有些难以解决